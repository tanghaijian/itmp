<!DOCTYPE html>
<html lang="zh-CN">

<head>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>开发任务管理编辑</title>
    <link rel="stylesheet" href="#springUrl('')/systemui/static/css/frame/font-awesome.min.css "> 
    <link rel="stylesheet" href="#springUrl('')/systemui/static/css/frame/jquery.editable-select.min.css"/>
    <link rel="stylesheet" href="#springUrl('')/systemui/static/css/frame/bootstrap.min.css"/>
    <link rel="stylesheet" href="#springUrl('')/systemui/static/css/frame/bootstrap-theme.min.css"/>
    <link rel="stylesheet" href="#springUrl('')/systemui/static/css/frame/bootstrap-table.min.css"/>
    <link rel="stylesheet" href="#springUrl('')/systemui/static/css/frame/bootstrap-select.min.css"/>
    <link rel="stylesheet" href="#springUrl('')/systemui/static/css/frame/bootstrap-datetimepicker.min.css"/> 
    <link rel="stylesheet" href="#springUrl('')/systemui/static/css/frame/bootstrapValidator.css"/>
    <link rel="stylesheet" href="#springUrl('')/systemui/static/jqgrid/jqgrid/css/ui.jqgrid-bootstrap4.css"/> 
    <link rel="stylesheet" href="#springUrl('')/systemui/static/jqgrid/jqgrid/css/jqGridDefined.css"/> 
    <link rel="stylesheet" href="#springUrl('')/systemui/static/css/frame/component.css"/>  
    <link rel="stylesheet" href="#springUrl('')/systemui/static/css/common/common.css"/>
    <link rel="stylesheet" href="#springUrl('')/devManageui/static/js/jquery-ztree/3.5.12/css/zTreeStyle/zTreeStyle.css" type="text/css">
    <link rel="stylesheet" href="#springUrl('')/devManageui/static/css/devtask/devtask.css"/>
    <style>
    	#editForm{
    		padding: 0 30px;
    	}
    	#editForm .form-control{
    		//padding-right: 26px !important;
    	}
        .woDIV {
            position: absolute;
            width: 200px;
            height: 200px;
            z-index: 1090;
        }
        .micSup {
		    background-color: #CC66FF;
		    line-height: 12px;
		    padding: 2px 6px;
		    color: white;
		    border-radius: 10px;
		} 
		
		.fa-circle{
    		color: #FFBF00;
    	}
		.marginR{
    		margin-left: 35px; 
    		margin-right: 15px; 
    		font-size: 12px;
    		margin-top: -5px;
    	}
    	.colorW{
    		color: white;
    		font-size: 14px; 
    	}
    	.titleFontS{
    		font-size: 14px; 
    	}
    	.jobArea{
    		margin-top: 10px;
    		border: 1px solid #D9D9D9; 
    		border-radius: 5px;
    		padding: 10px 30px 0;
    		background: #F4F4FB;
    	} 
    	.oneJob{
    		margin-bottom: 10px;
    	}
    	.proText{ 
    		padding: 15px 160px 25px;
    	}
    	.proText p{
    		margin-top: 3px;
    		color: #F04134;
    	}
    	#confirmModel .modal-body{
    		padding: 40px 35px 0;
    	}
    	.footerBtn{
    		padding:18px 0;
    		text-align: center;
    	} 
    	.footerBtn .btn{
    		padding: 6px 18px;
    	}
    	.clear + .btn_clear{
    		display: block !important;
    	}
        .p_r_0{
            padding-right: 0px !important;
        }
        .bs-select-all,.bs-deselect-all{
            width: 70px !important;
        }
        #editFieldDiv{
        	padding-left: 50px;
        }
    </style>
    <script type="text/javascript" src="#springUrl('')/systemui/static/js/jquery.js"></script> 
    <script type="text/javascript" src="#springUrl('')/systemui/static/js/frame/jquery-editable-select.js"></script>
    <script type="text/javascript" src="#springUrl('')/systemui/static/js/frame/jquery.ba-resize.js"></script>
    <script type="text/ecmascript" src="#springUrl('')/systemui/static/js/component.js"></script>
    <script type="text/javascript" src="#springUrl('')/systemui/static/js/frame/bootstrap.min.js"></script>
    <script type="text/javascript" src="#springUrl('')/systemui/static/js/frame/bootstrapValidator.js"></script>
    <script type="text/javascript" src="#springUrl('')/systemui/static/js/frame/bootstrap-table.min.js"></script>
    <script type="text/javascript" src="#springUrl('')/systemui/static/js/frame/bootstrap-table-zh-CN.min.js"></script>
    <script type="text/javascript" src="#springUrl('')/systemui/static/js/frame/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="#springUrl('')/systemui/static/js/frame/defaults-zh_CN.min.js"></script>
    <script type="text/javascript" src="#springUrl('')/systemui/static/js/frame/bootstrap-datetimepicker.js"></script>
    <script type="text/javascript" src="#springUrl('')/systemui/static/js/frame/bootstrap-datetimepicker.zh-CN.js"></script>
	<script type="text/javascript" src="#springUrl('')/systemui/static/js/frame/layer.js"></script>
	<script type="text/ecmascript" src="#springUrl('')/systemui/static/js/frame/laydate.js"></script> 
    	
	<script type="text/ecmascript" src="#springUrl('')/systemui/static/jqgrid/js/def-jquery-ui.min.js"></script>
    <script type="text/javascript" src="#springUrl('')/systemui/static/jqgrid/jqgrid/js/i18n/grid.locale-cn.js"></script>
    <script type="text/ecmascript" src="#springUrl('')/systemui/static/jqgrid/js/jquery.jqGrid.js"></script>
    <script type="text/ecmascript" src="#springUrl('')/systemui/static/js/common.js"></script>
    <script>
    	var editPermission = $auth.hasPermission("$token","devManage:devtask:edit");
    	var transferPermission = $auth.hasPermission("$token","devManage:devtask:transfer");
    	var splitPermission = $auth.hasPermission("$token","devManage:devtask:split");
    	var handleEditPermission = $auth.hasPermission("$token","devManage:devtask:handle");
    	var mergeEditPermission = $auth.hasPermission("$token","devManage:devtask:merge");
   		var uid = $uid;
    	var username = '$username';
    	var defectMenuUrl =' $system.getMenuByCode("devManageui:defect:toDefect").url';
    	var reqAttUrl = '$reqAttUrl';
    	
    </script>
    <script type="text/javascript"
            src="#springUrl('')/systemui/static/jquery-ztree/3.5.36/js/jquery.ztree.core.js"></script>
    <script type="text/javascript"
            src="#springUrl('')/systemui/static/jquery-ztree/3.5.36/js/jquery.ztree.excheck.min.js"></script>
    <script type="text/javascript"
            src="#springUrl('')/systemui/static/jquery-ztree/3.5.36/js/jquery.ztree.exhide.js"></script>

    <script type="text/ecmascript" src="#springUrl('')/systemui/static/js/common.js"></script>
    <script type="text/ecmascript" src="#springUrl('')/systemui/static/js/common/common.js"></script>
    <script type="text/ecmascript" src="#springUrl('')/systemui/static/js/common/fuzzy_serach.js"></script>
    <script type="text/ecmascript" src="#springUrl('')/systemui/static/js/common/fuzzy_serach_test.js"></script>
    <script type="text/ecmascript" src="#springUrl('')/devManageui/static/js/devtask/selectzTree.js"></script>
    <script type="text/ecmascript" src="#springUrl('')/devManageui/static/js/devtask/devtask_edit.js"></script>
    <script type="text/ecmascript" src="#springUrl('')/devManageui/static/js/devtask/devtaskOther.js"></script>
    <script type="text/ecmascript" src="#springUrl('')/devManageui/static/js/devtask/devtaskInfo_other.js"></script>
    
    <script>
        $.jgrid.defaults.responsive = true;
        $.jgrid.defaults.styleUI = 'Bootstrap4';
        $.jgrid.defaults.iconSet = "fontAwesome"; 
        $(function () {
            $("[data-toggle='tooltip']").tooltip();
        });
    </script>

</head>

<body>
<input id="check_Status" type="hidden"/>
<div id="menuContent" class="menuContent">
	<ul id="projectOwn" class="ztree"></ul>
</div>
<div id="modalContent" class="menuContent">
	<ul id="modalOwn" class="ztree"></ul>
</div>
<div class="color1" style="display: none">
    <div class="container-fluid" id="search_div">
    	<input id="requirementFeatureStatus" type="hidden" value="$requirementFeatureStatus"/>
    	<form id="searchForm"/>
        <div class="row control-row">
            <div class="col-md-3">
                <div class="search_font"><label class="control-label">任务编号：</label></div>
                <div class="search_input">
                    <input type="text" class="form-control" placeholder="请输入" id="devTaskCode" name="featureCode"
                           value=""/>
                </div>
            </div>
            <div class="col-md-3">
                <div class="search_font"><label class="control-label">任务名称：</label></div>
                <div class="search_input">
                    <input type="text" class="form-control" placeholder="请输入" id="featureName" name="featureName" value=""/>
                </div>
            </div>
            <div class="col-md-3">
                <div class="search_font"><label class="control-label">开发管理岗：</label></div>
                <div class="search_input chanceMyself">
                    <input type="hidden" id="devManPost" name="manageUserId"/>
                    <input type="text" class="form-control pointStyle readonly def_col_20" readonly placeholder="请选择" id="devManPostName" />
                	<div class="def_col_16"><button type="button" class="btn btn-primary chanceMyselfBtm" onclick = "selectMyself(this)">选自己</button></div>
                </div> 
            </div>
            <div class="col-md-3">
                <div class="search_font"><label class="control-label">任务状态：</label></div>
                <div class="search_input">
                    <select class="selectpicker" id="devTaskStatus" multiple name="requirementFeatureStatus">
                        #* #foreach($dictMap in ${dict.getDictMap(
                            "TBL_REQUIREMENT_FEATURE_REQUIREMENT_FEATURE_STATUS").entrySet()})
                            <option value="${dictMap.key}">${dictMap.value}</option>
                        #end *#
                    </select>
                </div>
            </div>
        </div>
        <div class="row control-row">
            <div class="col-md-3">
                <div class="search_font"><label class="control-label">投产窗口：</label></div>
                <div class="search_input">
                  #*  <select class="selectpicker" style="overflow: scroll" id="planVersion" multiple name="commissioningWindowId"
                            data-live-search="true">
                    </select>*#
                    <input type="hidden"  id="planVersion" name=""/>
                    <input type="text" class="form-control pointStyle clear readonly" readonly placeholder="请选择" id="planVersionName" />
                </div>
            </div>
            <div class="col-md-3">
                <div class="search_font"><label class="control-label">关联需求：</label></div>
                <div class="search_input">
                    <input type="hidden"  id="requirementId" name="requirementId"/>
                    <input type="text" class="form-control pointStyle clear readonly" readonly placeholder="请选择" id="requirementName" />
                </div>
            </div>
            <div class="col-md-3">
                <div class="search_font"><label class="control-label">涉及子系统：</label></div>
                <div class="search_input">
                    <input type="hidden" id="systemId" name="systemId"/>
                    <input type="text" class="form-control pointStyle clear readonly" readonly placeholder="请选择" id="systemNameReq" />
                </div>
            </div>
            <div class="col-md-3">
                <div class="search_font"><label class="control-label">创建方式：</label></div>
                <div class="search_input">
                    <select class="selectpicker" style="overflow: scroll" id="createTye" name="createType">
                        <option value="">请选择</option>
                        <option value="1">自建任务</option>
                        <option value="2">同步任务</option>
                    </select>
                </div>
            </div>
        </div>
         <div class="row control-row">
            <div class="col-md-3">
               <div class="search_font"><label class="control-label">执行人：</label></div>
                <div class="search_input chanceMyself">
                    <input type="hidden" id="execteUserId" name="executeUserId"/>
                    <input type="text" class="form-control pointStyle readonly def_col_20" readonly placeholder="请选择" id="execteUserName" />
                	<div class="def_col_16"><button type="button" class="btn btn-primary chanceMyselfBtm" onclick = "selectMyself(this)">选自己</button></div>
                </div>
            </div>
            <div class="col-md-3">
               <div class="search_font"><label class="control-label">优先级：</label></div>
               <div class="search_input">
                    <select class="selectpicker" id="reqFeaturePriority" multiple name="">
                        #foreach($dictMap in ${dict.getDictMap(
                            "TBL_REQUIREMENT_FEATURE_PRIORITY").entrySet()})
                            <option value="${dictMap.key}">${dictMap.value}</option>
                        #end
                    </select>
                </div>
            </div>
              <div class="col-md-3">
               <div class="search_font"><label class="control-label">冲刺：</label></div>
                <div class="search_input chanceMyself">
                    <input type="hidden" id="sprintIds" />
                    <input type="text" class="form-control pointStyle clear readonly" readonly placeholder="请选择" id="sprintNames" />
                </div>
            </div>
        </div>
        <div class="row control-row search_btn">
            <button type="button" class="btn btn-primary" onclick="searchInfo()">搜&nbsp;&nbsp;&nbsp;索</button>
            <button type="button" onclick="clearSearch()" class="btn btn-default">重&nbsp;&nbsp;&nbsp;置</button>
            <div class="collection">
            ##<span class="fa fa-heart-o"></span>&nbsp;收藏此次筛选
            </div>
        </div>
        </form>
    </div>
    <div id="downBtn" class="downBtn">
        <span class="fa fa-caret-up"></span>
    </div>
</div> 
<form id="editForm" method="post" enctype="multipart/form-data">
    <div class="allInfo">
        <div class="def_title">
            <span>任务信息</span>
            <span class="fa fa-angle-double-up" onclick="down(this)"></span>
        </div>
        <div class="def_content">
            <input type="hidden" name="attachFiles" id="editfiles" value=""/>
            <input id="editDevTaskId" type="hidden"/>
            <input id="edevelopmentMode" type="hidden"/>
            <div class="rowdiv">
            	<div hidden="true">
                        <input type="text" class="form-control" name="createType2" id="createType2"/>
            	</div>
                <div class="form-group def_col_36">
                    <label class="def_col_4 control-label"><span class="redStar">*</span>任务名称：</label>
                    <div class=" def_col_32">
                        <input type="text" class="form-control" placeholder="请输入" name="efeatureName"
                               id="efeatureName"/>
                    </div>
                </div>
            </div>
            <div class="rowdiv">
                <div class="form-group def_col_36">
                    <label class="def_col_4 control-label"><span class="redStar">*</span>任务描述：</label>
                    <div class="def_col_32"><textarea  style="resize:none"  class="form-control" placeholder="请输入" rows="3"  cols="80" name="efeatureOverview"  id="efeatureOverview"> </textarea>
                    </div>
                </div>
            </div>
            <div class="rowdiv">
                <div class="form-group def_col_12">
                    <label class="def_col_12 control-label"><span class="redStar">*</span>管理岗：</label>
                    <div class="def_col_24 chanceMyself">
                        <input type="hidden" id="editdevManageUser"/>
                        <input type="text" class="form-control def_col_20" placeholder="请输入关键字搜索"
                               id="editdevManageUserName"/>
                        <div class="def_col_16"><button type="button" class="btn btn-primary chanceMyselfBtm" onclick = "selectMyself(this)">选自己</button></div>
                    </div>
                </div>
                <div class="form-group def_col_12">
                    <label class="def_col_12 control-label"><span class="redStar">*</span>执行人：</label>
                    <div class="def_col_24 chanceMyself">
                        <input type="hidden" id="editexecuteUser"/>
                        <input type="text" class="form-control def_col_20" placeholder="请输入关键字搜索"
                               id="editexecuteUserName"/>
                        <div class="def_col_16"><button type="button" class="btn btn-primary chanceMyselfBtm" onclick = "selectMyself(this)">选自己</button></div>
                    </div>
                </div>
                <div class="form-group def_col_12">
				     <label class="def_col_12 control-label"><span class="redStar">*</span>优先级:</label>
				     <div class="def_col_24">
				         <select class="selectpicker dropdown" id="editreqFeaturePriority" name="editreqFeaturePriority">
				             <option value="">请选择</option>
				         </select>
				     </div>
				 </div>  
                
                
                
            </div>
            <div class="rowdiv">
            	<div class="form-group def_col_12">
                    <label class="def_col_12 control-label"><span class="redStar">*</span>关联项目：</label>
                    <div class="def_col_24">
                        <input type="hidden" id="newProject_listId"/>
                        <input type="text" class="form-control" placeholder="请输入关键字搜索" name="newProject_list" id="newProject_list"/>
                    </div>
                </div>
                <div class="form-group def_col_12">
                    <label class="def_col_12 control-label"><span class="redStar">*</span>关联子系统：</label>
                    <div class="def_col_24">
                        <input type="hidden" id="editsystemId"/>
                        <input type="text" class="form-control pointStyle readonly" onchange="getProjectGropId()" readonly placeholder="请选择"  name="editsystemName" id="editsystemName"/>
                    </div>
                </div>
                <div class="form-group def_col_12">
                    <label class="def_col_12 control-label"><span class="redStar">*</span>项目小组：</label>
                    <div class="def_col_24">
                        <input id="projectInput" class="form-control pointStyle readonly"    name="editProjectGroup"
                        	placeholder="请选择" type="text" onclick="showMenu()" readonly  />
                    </div>
                </div> 
                
            </div>
            <div class="rowdiv"> 
            	<div class="form-group def_col_12">
                    <label class="def_col_12 control-label">模块：</label>
                    <div class="def_col_24">
                        <input id="modalInput" name="modalInput" 
                        	class="form-control pointStyle readonly"  placeholder="请选择" type="text" onclick="showTree()" readonly  />
                    </div>
                </div> 
                
                <div class="form-group def_col_12">
                    <label class="def_col_12 control-label">项目计划：</label>
                    <div class="def_col_24">
                        <input type="hidden" id="editProjectPlanId"/>
                        <input type="text" class="form-control pointStyle readonly" readonly placeholder="请选择"
                               id="editProjectPlanName" name="editProjectPlanName"/>
                    </div>
                </div>
                <div class="form-group def_col_12">
                    <label class="def_col_12 control-label">所属处室：</label>
                    <div class="def_col_24">
                        <input id="editdeptId" type="hidden"/>
                        <input type="text" class="form-control pointStyle clear"placeholder="请输入" id="editDeptName"/>
					    <div class="selectBox" id="selectBox">
					      	<ul class="selectUl" id="selectUl"></ul>
					    </div>
                    </div>
                </div>
				 
            </div>
            <div class="rowdiv is_new_project">
            	
                #*<div class="form-group def_col_12">
                    <label class="def_col_12 control-label">任务来源：</label>
                    <div class="def_col_24">
                        <select class="selectpicker dropdown" id="editrequirementFeatureSource" name="">
                            <option value="">请选择</option>
                        </select>
                    </div>
                </div>*#
                <div class="form-group def_col_12">
                    <label class="def_col_12 control-label">发布版本：</label>
                    <div class="def_col_24">
                        <select class="selectpicker" id="editsystemVersionBranch" name=""
                                data-live-search="true">
                            <option value="">请选择</option>
                        </select>
                    </div>
                </div> 
                #*<div class="form-group def_col_12">
                    <label class="def_col_12 control-label">修复版本：</label>
                    <div class="def_col_24">
                        <select class="selectpicker" id="editrepairVersion" name=""
                                data-live-search="true">
                            <option value="">请选择</option>
                        </select>
                    </div>
                </div>*#
            	 
				<div class="form-group def_col_12">
                    <label class="def_col_12 control-label">投产窗口：</label>
                    <div class="def_col_24"> 
                        <input type="hidden"  id="editcommitWindowId" name=""/>
   						<input type="text" class="form-control clear pointStyle readonly" readonly placeholder="请选择" id="editcommitWindowName" />
                    </div>
                </div>
                <div id="ereqDiv" style="display:none" class="form-group def_col_12">
                      <label class="def_col_12 control-label">关联需求：</label>
                      <div class="def_col_24">
                          <input type="hidden" id="editrequirementId"/>
                          <input type="text" class="form-control pointStyle clear readonly" readonly placeholder="请选择"
                                 id="editrequirementName"/>
                      </div>
                 </div>
                 <div id="equestDiv" style="display:none" class="form-group def_col_12">
                      <label class="def_col_12 control-label">关联生产问题：</label>
                      <div class="def_col_24">
                          <input type="hidden" id="editSynDefectId"/>
                          <input type="text" class="form-control" readonly  id="editSynDefectCode" />
                      </div>
                 </div>
            </div> 
            <div class="rowdiv">
            	<div class="form-group def_col_12">
                    <label class="def_col_12 control-label">任务状态：</label>
                    <div class="def_col_24">
			          <select class="selectpicker" id="editdevTaskStatus" name="">
			          </select>
			        </div>
                </div>
                <div id="estoryPointDiv" style="display:none" class="form-group def_col_12">
                    <label class="def_col_12 control-label">故事点：</label>
                    <div class="def_col_24">
                        <input type="text"  placeholder="请输入"  class="form-control" name="editstoryPoint" id="editstoryPoint"/>
                    </div>
                </div> 
                <div id="sprintDiv" style="display:none" class="form-group def_col_12">
                    <label class="def_col_12 control-label">冲刺：</label>
                    <div class="def_col_24">
                        <select class="selectpicker" id="editSprintId" name=""
                                data-live-search="true">
                            <option value="">请选择</option>
                        </select>
                    </div>
                </div>
                
                
                
            </div> 
            <div class="rowdiv">
                <div class="form-group def_col_12">
					
                    #*<div id="edftDiv" style="display:none" class="form-group def_col_36">
                        <label class="def_col_12 control-label">关联缺陷：</label>
                        <div class="def_col_24">
                             <input type="hidden" id="editdefectId"/>
                             <input type="text" class="form-control pointStyle clear readonly" readonly placeholder="请选择"
                                    id="editdefectCode"/>
                        </div>
                     </div>*#
				</div>
                
                
            </div> 
            <div class="rowdiv">
                <div class="form-group def_col_12">
                    <label class="def_col_12 control-label"><span class="redStar">*</span>预计开始时间：</label>
                    <div class="def_col_24">
                        <input size="16" type="text" readonly class="form-control pointStyle clear readonly form_datetime"
                               placeholder="请选择" id="epstartWork" name="epstartWork"/>
                    </div>
                </div>
                <div class="form-group def_col_12">
                    <label class="def_col_12 control-label"><span class="redStar">*</span>预计结束时间：</label>
                    <div class="def_col_24">
                        <input size="16" type="text" readonly class="form-control pointStyle clear readonly form_datetime"
                               placeholder="请选择" id="ependWork" name="ependWork"/>
                    </div>
                </div>
                <div class="form-group def_col_12">
                    <label class="def_col_16 control-label"><span class="redStar">*</span>预计工作量(人天)：</label>
                    <div class="def_col_20"><input type="text" placeholder="请输入"
                                                   class="form-control" name="eestimateWorkload"
                                                   id="eestimateWorkload"/></div> 
                </div>
                
            </div>
            <div class="rowdiv">
                <div class="form-group def_col_12">
                    <label class="def_col_12 control-label">实际开始时间：</label>
                    <div class="def_col_24">
                        <input size="16" type="text" readonly class="form-control pointStyle clear readonly form_datetime"
                               placeholder="请选择" id="eastartWork" name="eastartWork"/>
                    </div>
                </div>
                <div class="form-group def_col_12">
                    <label class="def_col_12 control-label">实际结束时间：</label>
                    <div class="def_col_24">
                        <input size="16" type="text" readonly class="form-control pointStyle clear readonly form_datetime"
                               placeholder="请选择" id="eaendWork" name="eaendWork"/>
                    </div>
                </div>
                <div class="form-group def_col_12">
                    <label class="def_col_16 control-label">实际工作量(人天)：</label>
                    <div class="def_col_20"><input type="text" class="form-control"
                                                    placeholder="请输入" name="eactualWorkload" id="eactualWorkload"/>
                    </div>
                    ##<div class="def_col_4"><label class="control-label">人天 </label></div>
                </div>
                
            </div>
            
            <div class="rowdiv">
            	<div class="form-group def_col_12">
                    #*<label class="def_col_16 control-label">创建方式：</label>
                    <label class="def_col_20 select-label" id="createType"></label>
                    <div class="def_col_20"></div>
                    <label class="col-sm-4 control-label font_left fontWeihgt" id="" >实际开始时间：</label>
					<label class="col-sm-8 select-label" id="wactualStartDate"></label>*#
                </div>
                <div class="form-group def_col_12"></div>
                <div class="form-group def_col_12">
                    <label class="def_col_16 control-label">预估剩余工作量(人天)：</label>
                    <div class="def_col_20"><input type="text" placeholder="请输入"
                                                  class="form-control" name="estimateRemainWorkload"
                                                  id="estimateRemainWorkload"/></div>
                </div>
            </div>
        </div>
    </div>
    <div id="editFieldDiv" class="rowdiv">
    
    </div>
    <div class="form-group" id="editCreateFile" style="display:none">
        <label class="col-md-2 control-label top-text">附件上传：</label>
        <div class="col-md-10">
            <div class="file-upload-select">
                <input type="file" name="files" class="upload-files" multiple="multiple"
                       ##accept=".doc,.docx,.xls,.xlsx,.txt,.pdf" 
                       id="edituploadFile"/>
            </div>
            <div class="file-upload-list">
                <table class="file-upload-tb" id="editFileTable">

                </table>
            </div>
        </div>
    </div>
</form> 

 
##选择需求弹框
<div id="selReq" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content modalStyle">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <span class="modal-title">请选择需求</span>
            </div>

            <div class="modal-body">
                <div class="color1">
                    <div class="container-fluid" id="">
                        <div class="row control-row">
                            <div class="col-md-4">
                                <div class="search_font">
                                    <label class="control-label">需求编号：</label>
                                </div>
                                <div class="search_input">
                                    <input type="text" class="form-control" placeholder="请输入" id="reqCode"
                                           name="reqCode"/>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="search_font">
                                    <label class="control-label">需求名称：</label>
                                </div>
                                <div class="search_input">
                                    <input type="text" class="form-control" placeholder="请输入" id="reqName"
                                           name="reqName"/>
                                </div>
                            </div>
                            <div class="col-md-4 ">
                                <div class="search_font">
                                    <label class="control-label">需求状态：</label>
                                </div>
                                <div class="search_input">
                                    <select class="selectpicker" id="reqStatus" name="reqStatus"
                                            data-live-search="true">
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row control-row search_btn">
                            <button type="button" class="btn btn-primary" id="reqSearch">
                                搜&nbsp;&nbsp;&nbsp;索
                            </button>
                            <button type="button" class="btn btn-default" onclick="clearSearchReq()">重&nbsp;&nbsp;&nbsp;置</button>
                        </div>
                    </div>
                    <div id="downBtn" class="downBtn">
                        <span class="fa fa-caret-up"></span>
                    </div>
                </div>
                <br/>
                <div class="content-table">
                    <div class="wode">
                        <table id="listReq"></table>
                        <div id="pagerReq"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="bottom-container">
                    <button type="button" id="reqbutton" class="btn btn-primary" data-req="default"
                            onclick="insertInput()">确定
                    </button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                </div>
            </div>
        </div>
    </div>
</div>

##选择项目弹窗
<div class="modal fade bs-example-modal-lg" id="project_modal" tabindex="-1" role="dialog" aria-labelledby="newPerson">
    <div class="modal-dialog modal-lg modal-user" role="document">
        <div class="modal-content modalStyle">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <span class="modal-title" id="">选择项目</span>
            </div>
            <div class="modal-body">
                <div class="color1">
                    <div class="container-fluid" id="">
                        <div class="rowdiv control-row">
                            <div class="col-md-2">

                            </div>
                            <div class="col-md-4">
                                <div class="search_font"><label class="control-label">项目名称：</label></div>
                                <div class="search_input">
                                    <input type="text" class="form-control" placeholder="请输入" id="project_Name" />
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="search_font"><label class="control-label">项目编码：</label></div>
                                <div class="search_input">
                                    <input type="text" class="form-control" placeholder="请输入" id="project_Code" />
                                </div>
                            </div>
                            <div class="col-md-2">

                            </div>
                        </div>
                        <div class="rowdiv control-row search_btn">
                            <button type="button" class="btn btn-primary" onclick="getProject_list()">搜&nbsp;&nbsp;&nbsp;索</button>
                            <button type="button" onclick="clearSearchProject()" class="btn btn-default">重&nbsp;&nbsp;&nbsp;置</button>
                        </div>

                    </div>
                    <div id="downBtn2" class="downBtn">
                        <span class="fa fa-caret-up"></span>
                    </div>
                </div>
                <br>
                <div class="content-table">
                    <div class="wode">
                        <table id="Project_Table"></table>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" id="sysbutton" class="btn btn-primary" onclick="select_project()">确定</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>

##涉及子系统弹框
<div class="modal fade bs-example-modal-lg" id="selSys" tabindex="-1" role="dialog" aria-labelledby="newPerson">
    <div class="modal-dialog modal-lg modal-user" role="document">
        <div class="modal-content modalStyle">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <span class="modal-title" id="">选择子系统</span>
            </div>
            <div class="modal-body">

                <div class="color1">
                    <div class="container-fluid" id="">
                        <div class="rowdiv control-row">
                            <div class="col-md-2">

                            </div>
                            <div class="col-md-4">
                                <div class="search_font"><label class="control-label">子系统名称：</label></div>
                                <div class="search_input">
                                    <input type="text" class="form-control" placeholder="请输入" id="SCsystemName"
                                           name="systemName" value=""/>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="search_font"><label class="control-label">子系统编码：</label></div>
                                <div class="search_input">
                                    <input type="text" class="form-control" placeholder="请输入" id="SCsystemCode"
                                           name="systemCode" value=""/>
                                </div>
                            </div>
                            <div class="col-md-2">

                            </div>
                        </div>
                        <div class="rowdiv control-row search_btn">
                            <button type="button" class="btn btn-primary" id="systemSearch">搜&nbsp;&nbsp;&nbsp;索</button>
                            <button type="button" onclick="clearSearchSys()" class="btn btn-default">重&nbsp;&nbsp;&nbsp;置</button>
                        </div>

                    </div>
                    <div id="downBtn2" class="downBtn">
                        <span class="fa fa-caret-up"></span>
                    </div>
                </div>
                <br>
                <div class="content-table">
                    <div class="wode">
                        <table id="systemTable2"></table>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" id="sysbutton" class="btn btn-primary" data-sys="default" onclick="commitSys()">
                    确定
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
 

#*人员弹框*#
<div class="modal fade bs-example-modal-lg" id="userModalreqF" tabindex="-1" role="dialog" aria-labelledby="newPerson">
    <div class="modal-dialog modal-lg modal-user" role="document">
        <div class="modal-content modalStyle">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <span>选择人员</span>
            </div>
            <div class="modal-body">
                <div class="color1">
                    <div class="container-fluid">
                        <div class="row control-row">
                            <div class="col-md-3">
                                <div class="search_font"><label class="control-label">姓名：</label></div>
                                <div class="search_input">
                                    <input type="text" class="form-control " placeholder="请输入" id="userNameReqF"
                                           name="userName" value=""/>
                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="search_font"><label class="control-label">部门：</label></div>
                                <div class="search_input">
                                  #*<select class="selectpicker" id="deptName" name="deptName">
                                    </select>*#
                                    <input type="text" class="form-control " placeholder="请输入" id="deptName"
                                       name="deptName" value=""/>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="search_font"><label class="control-label">公司：</label></div>
                                <div class="search_input">
                                    #*<select class="selectpicker" id="companyName" name="companyName">
                                    </select>*#
                                    <input type="text" class="form-control " placeholder="请输入" id="companyName"
                                       name="companyName" value=""/>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="search_font"><label class="control-label">项目：</label></div>
                                <div class="search_input">
                                    <select class="selectpicker" multiple  data-actions-box="true" id="project" name="project">
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row control-row">
                            <div class="col-md-3">
                                <div class="search_font"><label class="control-label">在职状态：</label></div>
                                <div class="search_input">
                                    <select class="selectpicker" id="Working_state">
                                    	<option value="1" checked>在职</option>
                                    	<option value="2">离职</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row control-row search_btn">
                            <button type="button" class="btn btn-primary" id="userSearch" onclick="userTableShow2()">搜&nbsp;&nbsp;&nbsp;索</button>
                            <button type="button" onclick="clearSearchUser()" class="btn btn-default">重&nbsp;&nbsp;&nbsp;置</button>
                        </div>

                    </div>
                    <div id="downBtn" class="downBtn">
                        <span class="fa fa-caret-up"></span>
                    </div>
                </div>
                <br>
                <div class="content-table">
                    <div class="wode">
                        <table id="userTableReqF"></table>
                        <div id="userPage"></div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <div class="bottom-container">
                    <button type="button" id="userbutton" class="btn btn-primary" data-user="default"
                            onclick="commitUserReqF()">确定
                    </button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                </div>
            </div>
        </div>
    </div>
</div> 

##关联缺陷弹框
<div class="modal fade bs-example-modal-lg" id="defModal" tabindex="-1" role="dialog" aria-labelledby="">
	<div class="modal-dialog modal-lg modal-user" role="document">
		<div class="modal-content modalStyle">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
				<span class='modal-title'>选择要关联的缺陷</span>
			</div>
			<div class="modal-body">
				<input type="hidden" id="dftReqFeatureId" />
				<div class="color1">
					<div class="container-fluid" id="search_div">
						<div class="row control-row">
							<div class="col-md-4">
								<div class="search_font"><label class="control-label">缺陷编号：</label></div>
								<div class="search_input">
									<input type="text" class="form-control" placeholder="请输入" id="defectCode" name="defectCode" value="" />
								</div>
							</div>
							<div class="col-md-4">
								<div class="search_font"><label class="control-label">缺陷摘要：</label></div>
								<div class="search_input">
									<input type="text" class="form-control" placeholder="请输入" id="defectSummary" name="defectSummary" value="" />
								</div>
							</div>
							<div class="col-md-4">
								<div class="search_font"><label class="control-label">缺陷状态：</label></div>
								<div class="search_input">
									<select class="selectpicker" id="defectStatus">
										<option value="">请选择</option>
										#foreach($dictMap in ${dict.getDictMap( "TBL_DEFECT_INFO_DEFECT_STATUS").entrySet()})
										<option value="${dictMap.key}">${dictMap.value}</option>
										#end
									</select>
								</div>
							</div>

						</div>

						<div class="row control-row search_btn">
							<button type="button" class="btn btn-primary" onclick="dftTableShow()">搜&nbsp;&nbsp;&nbsp;索</button>
							<button type="button" onclick="resetDft()" class="btn btn-default">重&nbsp;&nbsp;&nbsp;置</button>
						</div>
					</div>
					<div id="downBtn" class="downBtn">
						<span class="fa fa-caret-up"></span>
					</div>
				</div>
				 <br>
				 <div class="content-table">
		            <div class="wode">
		                <table id="defectList"></table>
		            </div>
	        	</div>
			</div>
			<div class="modal-footer"> 
					<button type="button" id="dftbutton" class="btn btn-primary"  data-dft="default" onclick="commitDft()">确定</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
			</div>
		</div>
	</div>
</div>
 
 #*投产窗口*#
    <div class="modal fade bs-example-modal-lg" id="comWindowModal" tabindex="-1" role="dialog" aria-labelledby="newPerson">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content modalStyle">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <span>选择投产窗口</span>
                </div>
                <div class="modal-body">
                    <div class="color1">
                        <div class="container-fluid" id="comWindowForm">
                            <div class="row control-row">
                                <div class="col-md-4">
                                    <div class="search_font"><label class="control-label">窗口名称：</label></div>
                                    <div class="search_input">
                                        <input type="text" class="form-control " placeholder="请输入" id="win_windowName" name="windowName" value="" />
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="search_font"><label class="control-label">投产日期：</label></div>
                                    <div class="search_input">
                     						<input size="16"  type="text"  onfocus="this.blur()" class="form-control form_datetime" placeholder="请选择" id="win_windowDate" name="windowDate" />
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="search_font"><label class="control-label">窗口类型：</label></div>
                                    <div class="search_input">
                                        <select class="selectpicker" id="win_windowType" name="windowType">
                                            <option value="">请选择</option>
                                            #foreach($dictMap in ${dict.getDictMap(
                                                "TBL_COMMISSIONING_WINDOW_WINDOW_TYPE").entrySet()})
                                                <option value="${dictMap.key}">${dictMap.value}</option>
                                            #end
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row control-row search_btn">
                                <button type="button" class="btn btn-primary" onclick="commitWindow()">搜&nbsp;&nbsp;&nbsp;索</button>
                                <button type="button" onclick="winReset()" class="btn btn-default">重&nbsp;&nbsp;&nbsp;置</button>
                            </div>

                        </div>
                        <div id="downBtn" class="downBtn">	
                        <span class="fa fa-caret-up"></span>
                    </div>
                    </div>
                    <br>
                    <div class="content-table">
                        <div class="wode">
                            <table id="comWindowTable"></table>
                            <div id="userPage"></div>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <div class="bottom-container">
                        <button type="button" id="windowButton" class="btn btn-primary" data-window="default" onclick="commitWin()">确定</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
 #*冲刺弹框*#
    <div class="modal fade bs-example-modal-lg" id="sprintModal" tabindex="-1" role="dialog" aria-labelledby="newPerson">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content modalStyle">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <span>选择冲刺</span>
                </div>
                <div class="modal-body">
                    <div class="color1">
		<div class="container-fluid search_div" id="search_div">
			<div class="row control-row">
				<div class="col-md-6">
					<div class="search_font">
						<label class="control-label">冲刺名称：</label>
					</div>
					<div class="search_input">
						<input type="text" class="form-control" placeholder="请输入"
							id="sprintName" name="sprintName" value="" />
					</div>
				</div>
				<div class="col-md-6">
					<div class="search_font">
						<label class="control-label">子系统名称：</label>
					</div>
					<div class="search_input">
					<input type="text" class="form-control" placeholder="请输入"
							id="ssystemName" name="ssystemName" value="" />
					</div>
				</div>
			
			</div>
			<div class="row control-row search_btn">
				<button type="button" class="btn btn-primary" onclick="sprintAll()">搜&nbsp;&nbsp;&nbsp;索</button>
				<button type="button" onclick="clearSearchSpr()"
					class="btn btn-default">重&nbsp;&nbsp;&nbsp;置</button>
			</div>
		</div>
		<div id="downBtn">
			<span class="fa fa-caret-up"></span>
		</div>
	</div>
	<br>
	<div class="content-table">
			<div class="wode">
				<table id="sprintTable"></table>
				<div id="pager2"></div>
			</div>
		</div>
                   
                </div>

                <div class="modal-footer">
                    <div class="bottom-container">
                        <button type="button" id="" class="btn btn-primary" data-window="default" onclick="commitSprint()">确定</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
##项目计划弹框
<div class="modal fade bs-example-modal-lg" id="selProjectPlan" tabindex="-1" role="dialog" aria-labelledby="newPerson">
    <div class="modal-dialog modal-lg modal-user" role="document">
        <div class="modal-content modalStyle">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <span class="modal-title" id="">选择项目计划</span>
            </div>
            <div class="modal-body">

                <div class="color1">
                    <div class="container-fluid" id="">
                        <div class="rowdiv control-row">

                            <div class="col-md-3">
                                <div class="search_font"><label class="control-label">计划编码：</label></div>
                                <div class="search_input">
                                    <input type="text" class="form-control" placeholder="请输入" id="planCode"
                                           name="planCode" value=""/>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="search_font"><label class="control-label">计划名称：</label></div>
                                <div class="search_input">
                                    <input type="text" class="form-control" placeholder="请输入" id="planName"
                                           name="planName" value=""/>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="search_font"><label class="control-label">所属项目名称：</label></div>
                                <div class="search_input">
                                    <input type="text" class="form-control" placeholder="请输入" id="projectName"
                                           name="projectName" value=""/>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="search_font"><label class="control-label">责任人：</label></div>
                                <div class="search_input">
                                    <input type="text" class="form-control" placeholder="请输入" id="responsibleUserName"
                                           name="responsibleUserName" value=""/>
                                </div>
                            </div>
                        </div>
                        <div class="rowdiv control-row search_btn">
                            <button type="button" class="btn btn-primary" onclick="planTableShow()">搜&nbsp;&nbsp;&nbsp;索</button>
                            <button type="button" onclick="clearSearchPlan()" class="btn btn-default">重&nbsp;&nbsp;&nbsp;置</button>
                        </div>

                    </div>
                    <div id="downBtn2" class="downBtn">
                        <span class="fa fa-caret-up"></span>
                    </div>
                </div>
                <br>
                <div class="content-table">
                    <div class="wode">
                        <table id="planTable2"></table>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" id="planbutton" class="btn btn-primary" data-sys="default" onclick="commitPlan()">
                    确定
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>
<div id="loading"> 
		<img class="loadingImg" src="#springUrl('')/systemui/static/images/loadingPic.gif" />
   </div> 
</body>
</html>